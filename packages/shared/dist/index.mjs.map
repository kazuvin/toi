{"version":3,"sources":["../src/schemas/user.ts","../src/schemas/ai/chat.ts","../src/schemas/ai/explain.ts","../src/schemas/ai/translate.ts","../src/schemas/ai/transcribe.ts"],"sourcesContent":["import { z } from \"zod\";\n\nexport const UserSchema = z.object({\n  id: z.string(),\n  email: z.string().email(),\n  name: z.string(),\n  createdAt: z.date(),\n  updatedAt: z.date(),\n});\n\nexport type User = z.infer<typeof UserSchema>;\n\n/**\n * ログインユーザー情報レスポンス\n */\nexport const GetLoginUserResponseSchema = z.object({\n  uid: z.string(),\n  email: z.string().nullable(),\n  displayName: z.string(),\n  photoURL: z.string().nullable(),\n  createdAt: z.string().datetime(),\n  updatedAt: z.string().datetime(),\n  userType: z.enum([\"anonymous\", \"registered\"]),\n  subscriptionPlan: z.enum([\"pro\"]).nullable(),\n  subscriptionExpiresAt: z.string().nullable(),\n  isAdmin: z.boolean(),\n});\n\nexport type GetLoginUserResponse = z.infer<typeof GetLoginUserResponseSchema>;\n\n/**\n * ユーザー情報追加リクエスト\n */\nexport const PostUserBodySchema = z.object({\n  uid: z.string(),\n  email: z.string().optional(),\n  displayName: z.string().optional(),\n  photoUrl: z.string().optional(),\n  createdAt: z.string().optional(),\n  updatedAt: z.string().optional(),\n  userType: z.enum([\"ANONYMOUS\", \"REGISTERED\"]),\n  subscriptionPlan: z.enum([\"Pro\"]).optional(),\n  subscriptionExpiresAt: z.string().optional(),\n  isAdmin: z.boolean(),\n});\n\nexport type PostUserBody = z.infer<typeof PostUserBodySchema>;\n","import { z } from \"zod\";\n\n/**\n * メッセージの共通スキーマ\n */\nexport const messageSchema = z.object({\n  role: z.enum([\"user\", \"assistant\"]),\n  content: z.string(),\n  translation: z.string().optional(),\n  feedback: z.string().optional(),\n});\n\n/**\n * メッセージの共通型\n */\nexport type Message = z.infer<typeof messageSchema>;\n\n/**\n * チャットリクエストのスキーマ\n */\nexport const chatRequestSchema = z.object({\n  aiRole: z.string(),\n  userRole: z.string(),\n  situation: z.string(),\n  learningContent: z.string(),\n  messages: z.array(messageSchema).max(2),\n});\n\n/**\n * チャットレスポンスのスキーマ\n */\nexport const chatResponseSchema = messageSchema.extend({\n  role: z.literal(\"assistant\"),\n});\n\n/**\n * チャットリクエストの型\n */\nexport type ChatRequest = z.infer<typeof chatRequestSchema>;\n\n/**\n * チャットレスポンスの型\n */\nexport type ChatResponse = z.infer<typeof chatResponseSchema>;\n","import { z } from \"zod\";\n\nexport const explainExampleSchema = z.object({\n  english: z.string(),\n  japanese: z.string(),\n});\n\nexport const explainRequestSchema = z.object({\n  expression: z.string(),\n  language: z.string().optional(),\n});\n\nexport const explainContentSchema = z.object({\n  translation: z.string(),\n  pronunciation: z.string(),\n  grammar: z.string(),\n  usage: z.string(),\n  examples: z.array(explainExampleSchema),\n});\n\nexport const explainHistoryItemSchema = z.object({\n  id: z.string(),\n  expression: z.string(),\n  explanation: explainContentSchema,\n  createdAt: z.string().nullable(),\n});\n\nexport type ExplainExample = z.infer<typeof explainExampleSchema>;\nexport type ExplainRequestBody = z.infer<typeof explainRequestSchema>;\nexport type ExplainContent = z.infer<typeof explainContentSchema>;\nexport type ExplainHistoryResponse = z.infer<typeof explainHistoryItemSchema>[];\nexport type ExplainResponse = z.infer<typeof explainHistoryItemSchema>;\n","import { z } from \"zod\";\n\nexport const translateRequestSchema = z.object({\n  text: z.string(),\n});\n\nexport const translateResponseSchema = z.string();\n\nexport type TranslateRequestBody = z.infer<typeof translateRequestSchema>;\nexport type TranslateResponse = z.infer<typeof translateResponseSchema>;\n","import { z } from \"zod\";\n\n/**\n * 音声文字起こしリクエスト\n */\nexport const PostTranscribeBodySchema = z.object({\n  // 音声ファイルのバイナリデータをBase64エンコードした文字列\n  audio: z.string(),\n  // 音声ファイルの言語\n  language: z.string().optional(),\n});\n\nexport type PostTranscribeBody = z.infer<typeof PostTranscribeBodySchema>;\n\n/**\n * 音声文字起こしレスポンス\n */\nexport const PostTranscribeResponseSchema = z.object({\n  text: z.string(),\n});\n\nexport type PostTranscribeResponse = z.infer<\n  typeof PostTranscribeResponseSchema\n>;\n"],"mappings":"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","names":["z","z","z","z"]}